<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>HIGHER MATCH Launcher</title>

  <!-- Google Font: Do Hyeon -->
  <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">

  <style>
    :root{
      --navy:#0c1a3a;
      --navy-2:#0a1636;
      --bg:#0f1730;
      --yellow:#ffd94d;
      --white:#ffffff;
      --muted:#cfd8ea;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      /* í†¤ì„ ë„¤ì´ë¹„ ê³„ì—´ë¡œ ì¬ì¡°ì • (í”Œë«) */
      background: linear-gradient(180deg, var(--bg), #0a142e 55%, #08102a);
      color:var(--white);
      font-family: system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }
    .font-dohyeon{
      font-family:"Do Hyeon", system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
    }

    /* ===== Main layout ===== */
    .wrap{
      min-height:100dvh;
      display:flex;
      flex-direction:column;
      gap:16px;
      padding:16px;
    }

    /* ===== Logo (ì ˆë°˜ í¬ê¸°) ===== */
    .logo{
      display:flex;
      align-items:center;
      justify-content:center;
      padding:8px 8px 0;
    }
    .logo img{
      width:min(260px, 43vw);  /* ê¸°ì¡´ì˜ ì ˆë°˜ */
      height:auto;
      display:block;
      object-fit:contain;
      border-radius:12px;
      /* ì…ì²´ íš¨ê³¼ ì œê±°: ê·¸ë¦¼ì/í•„í„° ì—†ìŒ */
    }

    /* ===== Buttons (í”Œë« ìŠ¤íƒ€ì¼) ===== */
    .btns{
      display:flex;
      flex-direction:column;
      gap:16px;
      flex:1;
      margin-top:8px;
    }
    .btn{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      background: var(--navy);    /* í”Œë« ë°°ê²½ */
      color: var(--white);
      border:none;
      border-radius:16px;
      text-align:center;
      text-decoration:none;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      transition: opacity .12s ease, transform .04s ease;
      padding: 0 10px;
      /* ì…ì²´ íš¨ê³¼ ì œê±°: box-shadow, text-shadow ëª¨ë‘ ì œê±° */
    }
    .btn:active{ transform: translateY(0); opacity:.92; }
    .btn span{
      display:block;
      line-height:1.06;
      /* ì „ì²´ ë²„íŠ¼ í°íŠ¸ 2px ì¶•ì†Œ */
      font-size: clamp(20px, 9vw, 62px);
      letter-spacing:.3px;
    }
    /* ê°€ìš´ë° ë²„íŠ¼ í¬ê²Œ */
    .btn--xl{ flex:2.3; }
    /* ë§¤ì¹˜ ë²„íŠ¼ë§Œ ë…¸ë€ìƒ‰ í”Œë« */
    .btn--match{ background: var(--yellow); color:#111; }
    .btn--info{ background: #14254f; }
    .btn--guide{ background: #14254f; }

    /* ===== Modal (Popup) ===== */
    .modal{
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      background: rgba(0,0,0,.5);
      backdrop-filter: blur(2px);
      z-index: 9999;
      padding: 18px;
    }
    .modal[hidden]{ display:none; }

    .modal__card{
      width: min(840px, 100%);
      max-height: 90dvh;
      background: linear-gradient(180deg, var(--navy), var(--navy-2));
      border-radius: 16px;
      overflow: hidden;
      display:flex;
      flex-direction:column;
      color:var(--white);
    }
    .modal__body{
      padding: 18px 16px 12px;
      overflow:auto;
    }
    /* â¬‡ï¸ ì œëª©: ì§ì „(2ë°°) ëŒ€ë¹„ 2/3ë¡œ ì¶•ì†Œ */
    .modal__title{
      margin: 16px 16px 6px;
      text-align:center;
      color: var(--yellow);
      /* 34pxâ†’22.7, 11.6vwâ†’7.73vw, 68pxâ†’45.3 (ë°˜ì˜¬ë¦¼) */
      font-size: clamp(23px, 7.8vw, 46px);
    }
    /* â¬‡ï¸ ë‚´ìš©: 32px â†’ 21.3px (2/3) */
    .modal__content{
      margin: 8px 16px 8px;
      font-size: 21.3px;
      line-height: 1.6;
      color: var(--white);
      white-space: pre-line;
    }
    .checkrow{
      display:flex; align-items:center; gap:10px;
      margin: 10px 0 6px;
      font-size: 15px;
      color:#e9eef9;
    }
    .checkrow input[type="checkbox"]{
      transform: scale(1.15);
      accent-color: #e9eef9;
      cursor:pointer;
    }
    .modal__footer{
      padding: 10px 16px 16px;
      display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap;
    }
    .btn--confirm{
      padding: 12px 18px;
      background: var(--yellow);
      color: #111;
      border-radius: 12px;
      border: none;
      font-size: 18px;
      cursor:pointer;
      font-family: system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }
    .note{
      margin-top: 6px; color:var(--muted); font-size: 13px;
      font-family: system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }

    /* Safe area for iPhone */
    @supports(padding:max(0px)) {
      .wrap{ padding: max(16px, env(safe-area-inset-top)) max(16px, env(safe-area-inset-right)) max(16px, env(safe-area-inset-bottom)) max(16px, env(safe-area-inset-left)); }
      .modal{ padding: max(18px, env(safe-area-inset-top)) max(18px, env(safe-area-inset-right)) max(18px, env(safe-area-inset-bottom)) max(18px, env(safe-area-inset-left)); }
    }
  </style>
</head>
<body>

  <!-- ===== Logo (ì ˆë°˜ í¬ê¸°) ===== -->
  <div class="logo" aria-hidden="true">
    <!-- â¬‡ï¸ ë¡œê³  ì´ë¯¸ì§€ URLì„ ì´ê³³ì— ë„£ì–´ì£¼ì„¸ìš” -->
    <img id="logoImg" src="https://lh3.googleusercontent.com/d/143lu87wt27PIerpMbBNSViSsHabI0dZd" alt="HIGHER ë¡œê³ ">
    <!-- ì˜ˆ: src="https://example.com/higher-logo.png" -->
  </div>

  <!-- ===== Main Buttons (ì„¸ë¡œ 3ê°œ) ===== -->
  <main class="wrap" aria-live="polite">
    <div class="btns">
      <!-- 1) ì•ˆë‚´ì‚¬í•­: í•­ìƒ í˜„ì¬ í˜ì´ì§€ì˜ íŒì—…ì„ ë„ì›€ -->
      <button id="btnInfo" class="btn btn--info font-dohyeon" type="button" aria-label="HIGHER MATCH ì•ˆë‚´ì‚¬í•­ ì—´ê¸°">
        <span>HIGHER MATCH ì•ˆë‚´ì‚¬í•­</span>
      </button>

      <!-- 2) ë§¤ì¹˜: ê°€ì¥ í¬ê²Œ (í”Œë«, ë…¸ë€ìƒ‰) -->
      <button id="btnMatch" class="btn btn--match btn--xl font-dohyeon" type="button" aria-label="í•˜ì´ì–´ ë§¤ì¹˜ ë°”ë¡œê°€ê¸°">
        <span>ğŸ’›<br>HIGHER MATCH<br>ğŸ‘‰ ë°”ë¡œê°€ê¸° ğŸ‘ˆ</span>
      </button>

      <!-- 3) ì‚¬ìš©ì„¤ëª…ì„œ -->
      <button id="btnGuide" class="btn btn--guide font-dohyeon" type="button" aria-label="í•˜ì´ì–´ ë§¤ì¹˜ ì‚¬ìš©ì„¤ëª…ì„œ">
        <span>í•˜ì´ì–´ë§¤ì¹˜ ëª¨ë°”ì¼<br>ì‚¬ìš©ì„¤ëª…ì„œ</span>
      </button>
    </div>
  </main>

  <!-- ===== Popup Modal (ì œëª©/ë‚´ìš© 2/3 ë°˜ì˜) ===== -->
  <section id="popup" class="modal" role="dialog" aria-modal="true" aria-labelledby="popupTitle">
    <div class="modal__card">
      <h2 id="popupTitle" class="modal__title font-dohyeon">í•˜ì´ì–´ ë§¤ì¹˜ ì•ˆë‚´ì‚¬í•­</h2>

      <div class="modal__body">
        <div id="popupText" class="modal__content font-dohyeon">
1. ì´ë²¤íŠ¸ ì°¸ì—¬ë¥¼ ì›í•˜ì‹œëŠ” ë¶„ì€ ë²ˆí˜¸ë¥¼ ì˜ë³´ì´ë„ë¡ ê°€ìŠ´ ì¤‘ì•™ì— ë¶™ì—¬ì£¼ì„¸ìš”.

2. ë°›ìœ¼ì‹  ë²ˆí˜¸ë¡œë§Œ ë“±ë¡í•´ì£¼ì„¸ìš”. (1ì¸ 1ë²ˆí˜¸)

3. ë©”ì¸ì•ˆì£¼ì™€ ìˆ  ì£¼ë¬¸ì€ ê¼­ í•´ì£¼ì„¸ìš”!

4. LIKEë³´ë‚´ê¸°ëŠ” 7íšŒë¡œ ì œí•œë©ë‹ˆë‹¤.

5. ë§Œë‚¨ì„±ì‚¬ê°€ ë˜ë©´ ìƒëŒ€ë°© í™•ì¸ í›„ì— ì§ì›ì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”. 

6. í…Œì´ë¸” í•©ì„ì„ ì›í•˜ì‹œëŠ” ê²½ìš° ì§ì›ì—ê²Œ ë¬¸ì˜ì£¼ì„¸ìš”.
   &nbsp ë‹¨, ê° í…Œì´ë¸” ê³„ì‚°ì´ ìš°ì„ ì ìœ¼ë¡œ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

7. í—ŒíŒ…í¬ì°¨ì²˜ëŸ¼ ì¦ê²¨ì£¼ì„¸ìš”.
        </div>

        <div class="checkrow">
          <input type="checkbox" id="chkToday" />
          <label for="chkToday">3ì‹œê°„ë™ì•ˆ ì´ ì°½ ë³´ì§€ì•Šê¸°</label>
        </div>
        <div class="checkrow">
          <input type="checkbox" id="chkAgree" />
          <label for="chkAgree">ìœ„ ë‚´ìš©ì„ ëª¨ë‘ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.</label>
        </div>
        <p class="note">&nbsp &nbsp &nbsp &nbsp â€» ë¶ˆì´ìµì´ ì—†ë„ë¡ ë‚´ìš©ì„ ì •ë…í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
      </div>

      <div class="modal__footer">
        <button id="btnConfirm" class="btn--confirm" type="button">í™•ì¸</button>
      </div>
    </div>
  </section>

  <script>
    // ====== â¬‡ï¸ ë§í¬: ì§ì ‘ ë„£ì–´ì£¼ì„¸ìš” (í˜„ì¬ ë¹„ì›Œë‘ ) ======
    const LINK_MATCH = "https://higheritaewon.github.io/Message-TEST_higherMatch/";  
    const LINK_GUIDE = "https://www.instagram.com/p/DPyruvHkZuM/?igsh=bXo2N2I3eTh4ejU2"; 

    // ====== íŒì—… â€˜ìˆ¨ê¹€ ìœ ì§€â€™ ë¡œì§ (3ì‹œê°„) ======
    const SNOOZE_KEY = "hm_popup_snooze_until";
    const THREE_HOURS = 3 * 60 * 60 * 1000;

    const popup = document.getElementById('popup');
    const chkToday = document.getElementById('chkToday');
    const chkAgree = document.getElementById('chkAgree');
    const btnConfirm = document.getElementById('btnConfirm');

    const btnInfo  = document.getElementById('btnInfo');
    const btnMatch = document.getElementById('btnMatch');
    const btnGuide = document.getElementById('btnGuide');

    // ìµœì´ˆ ì§„ì… ì‹œ íŒì—… í‘œì‹œ ì—¬ë¶€
    (function initPopup(){
      try{
        const until = Number(localStorage.getItem(SNOOZE_KEY) || 0);
        const now = Date.now();
        if (until > now){
          popup.hidden = true;
          popup.setAttribute('aria-hidden','true');
        } else {
          popup.hidden = false;
          popup.removeAttribute('aria-hidden');
        }
      }catch(e){
        popup.hidden = false;
        popup.removeAttribute('aria-hidden');
      }
    })();

    // í™•ì¸ ë²„íŠ¼
    btnConfirm.addEventListener('click', () => {
      if (!chkAgree.checked){
        alert("â€˜ìœ„ ë‚´ìš©ì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.â€™ì— ì²´í¬í•´ ì£¼ì„¸ìš”.");
        return;
      }
      if (chkToday.checked){
        const until = Date.now() + THREE_HOURS;
        try{ localStorage.setItem(SNOOZE_KEY, String(until)); }catch(e){}
      }
      popup.hidden = true;
      popup.setAttribute('aria-hidden','true');
    });

    // ESC ë‹«ê¸° (ë™ì˜ ì²´í¬ëœ ìƒíƒœì—ì„œë§Œ)
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !popup.hidden && chkAgree.checked){
        btnConfirm.click();
      }
    });

    // ê³µí†µ: ë§í¬ ì—´ê¸°
    function openOrWarn(url, label){
      if (!url || !/^https?:\/\//i.test(url)){
        alert(`${label} ë§í¬ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\nìƒë‹¨ì˜ LINK_* ìƒìˆ˜ì— ì˜¬ë°”ë¥¸ URLì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.`);
        return;
      }
      window.open(url, '_blank', 'noopener');
    }

    // 1) ì•ˆë‚´ì‚¬í•­: ì‹œê°„ ìƒê´€ì—†ì´ íŒì—…ì„ í™”ë©´ì— í‘œì‹œ
    btnInfo.addEventListener('click', () => {
      popup.hidden = false;
      popup.removeAttribute('aria-hidden');
    });

    // 2) ë§¤ì¹˜ ë°”ë¡œê°€ê¸° (ì§ì ‘ ì…ë ¥í•œ ì£¼ì†Œë¡œ ì´ë™)
    btnMatch.addEventListener('click', () => openOrWarn(LINK_MATCH, "â€˜í•˜ì´ì–´ ë§¤ì¹˜ ë°”ë¡œê°€ê¸°â€™"));

    // 3) ì‚¬ìš©ì„¤ëª…ì„œ (ì§ì ‘ ì…ë ¥í•œ ì£¼ì†Œë¡œ ì´ë™)
    btnGuide.addEventListener('click', () => openOrWarn(LINK_GUIDE, "â€˜í•˜ì´ì–´ ë§¤ì¹˜ ì‚¬ìš©ì„¤ëª…ì„œâ€™"));
  </script>
</body>
</html>
