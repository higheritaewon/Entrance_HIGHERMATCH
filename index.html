<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>HIGHER MATCH Launcher</title>

  <!-- Google Font: Do Hyeon -->
  <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">

  <style>
    :root{
      --navy:#0c1a3a;
      --navy-2:#0a1636;
      --bg:#0f1730;
      --yellow:#ffd94d;
      --white:#ffffff;
      --muted:#cfd8ea;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;padding:0;}
    body{
      background: linear-gradient(180deg, var(--bg), #0a142e 55%, #08102a);
      color:var(--white);
      font-family: system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      align-items:center;
    }

    .font-dohyeon{
      font-family:"Do Hyeon", system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
    }

    /* ===== Logo (ì ˆë°˜ í¬ê¸° ìœ ì§€, ìƒë‹¨ ì—¬ë°± ì¤„ì„) ===== */
    .logo{
      padding-top:10px;
    }
    .logo img{
      width:min(180px,40vw);
      height:auto;
      display:block;
      object-fit:contain;
      border-radius:12px;
    }

    /* ===== Buttons (ì „ì²´ ë†’ì´ì˜ ì•½ 60%) ===== */
    .btns{
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:stretch;
      width:90%;
      gap:10px;
      flex:0 0 60%;
    }

    .btn{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      background: var(--navy);
      color: var(--white);
      border:none;
      border-radius:14px;
      text-align:center;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      transition:opacity .12s ease;
      padding:0 10px;
    }
    .btn:active{opacity:.9;}
    .btn > span{
      display:block;
      line-height:1.05;
      font-size: clamp(18px, 6.5vw, 42px);
    }
    .btn--xl{ flex:1.5; }
    .btn--match{ background: var(--yellow); color:#111; }
    .btn--info,.btn--guide{ background:#14254f; }

    /* ===== Footer text ===== */
    footer{
      text-align:center;
      font-size:14px;
      color:var(--muted);
      margin-bottom:10px;
    }

    /* ===== Modal (Popup) ===== */
    .modal{
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      background: rgba(0,0,0,.5);
      backdrop-filter: blur(2px);
      z-index: 9999;
      padding: 18px;
    }
    .modal[hidden]{ display:none; }

    .modal__card{
      width: min(700px, 94%);
      max-height: 88dvh;
      background: linear-gradient(180deg, var(--navy), var(--navy-2));
      border-radius: 14px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      color:var(--white);
    }
    .modal__body{
      padding:18px;
      overflow:auto;
    }
    .modal__title{
      margin: 12px 12px 4px;
      text-align:center;
      color: var(--yellow);
      font-size: clamp(20px, 6vw, 34px);
    }
    .modal__content{
      margin: 8px 12px;
      font-size:18px;
      line-height:1.6;
      color:var(--white);
      white-space:pre-line;
    }
    .checkrow{
      display:flex;align-items:center;gap:8px;
      margin:8px 0;
      font-size:14px;color:#e9eef9;
    }
    .checkrow input[type="checkbox"]{
      transform:scale(1.1);
      accent-color:#e9eef9;
    }
    .modal__footer{
      padding:10px 14px 14px;
      display:flex;justify-content:flex-end;
    }
    .btn--confirm{
      padding:10px 16px;
      background:var(--yellow);
      color:#111;
      border:none;
      border-radius:10px;
      font-size:16px;
      cursor:pointer;
    }
    .note{
      margin-top:6px;color:var(--muted);font-size:12px;
    }
    .highlight-text{
      font-size: 64px;
      line-height: 1.0;
    }

  </style>
</head>
<body>

  <!-- ===== Logo ===== -->
  <div class="logo" aria-hidden="true">
    <img src="https://lh3.googleusercontent.com/d/143lu87wt27PIerpMbBNSViSsHabI0dZd" alt="HIGHER ë¡œê³ ">
  </div>

  <!-- ===== Main Buttons ===== -->
  <main class="btns">
    <button id="btnInfo" class="btn btn--info font-dohyeon" type="button">
      <span>HIGHER MATCH<br>ì•ˆë‚´ì‚¬í•­</span>
    </button>

    <button id="btnMatch" class="btn btn--match btn--xl font-dohyeon" type="button">
      <span><span class="highlight-text">HIGHER MATCH</span><br>ë°”ë¡œê°€ê¸°</span>
    </button>

    <button id="btnGuide" class="btn btn--guide font-dohyeon" type="button">
      <span>í•˜ì´ì–´ë§¤ì¹˜ ëª¨ë°”ì¼<br>ì‚¬ìš©ì„¤ëª…ì„œ</span>
    </button>
  </main>

  <!-- ===== Footer ===== -->
  <footer>ì´ë²¤íŠ¸ìš© ìµëª… ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.<br>@higher_itaewon</footer>

  <!-- ===== Popup Modal ===== -->
  <section id="popup" class="modal" role="dialog" aria-modal="true" aria-labelledby="popupTitle">
    <div class="modal__card">
      <h2 id="popupTitle" class="modal__title font-dohyeon">í•˜ì´ì–´ ë§¤ì¹˜ ì•ˆë‚´ì‚¬í•­</h2>

      <div class="modal__body">
        <div id="popupText" class="modal__content font-dohyeon">
1. ì´ë²¤íŠ¸ ì°¸ì—¬ë¥¼ ì›í•˜ì‹œëŠ” ë¶„ì€ ë²ˆí˜¸ê°€<br>&nbsp &nbspğŸ”Ÿ ì˜ ë³´ì´ë„ë¡ ê°€ìŠ´ ì¤‘ì•™ì— ë¶™ì—¬ì£¼ì„¸ìš”.

2. ë°›ìœ¼ì‹  ë²ˆí˜¸ë¡œë§Œ ë“±ë¡í•´ì£¼ì„¸ìš”.<br>&nbsp &nbspâ˜ï¸(1ì¸ 1ë²ˆí˜¸)

3. ğŸ²ë©”ì¸ì•ˆì£¼ì™€ ğŸºìˆ ì€ ê¼­ ì£¼ë¬¸í•´ì£¼ì„¸ìš”!

4. LIKE ë³´ë‚´ê¸°ëŠ” 7íšŒë¡œ ì œí•œë©ë‹ˆë‹¤.ğŸ‘

5. ë§Œë‚¨ì„±ì‚¬ê°€ ë˜ë©´ ìƒëŒ€ë°© í™•ì¸ í›„ì— <br>&nbsp &nbspğŸ‘¨â€â¤ï¸â€ğŸ‘¨ì§ì›ì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”. 

6. í…Œì´ë¸” í•©ì„ì„ ì›í•˜ì‹œëŠ” ê²½ìš° ì§ì›ì—ê²Œ <br>&nbsp &nbspë¬¸ì˜ì£¼ì„¸ìš”.ğŸ’›
   <br>&nbsp &nbspë‹¨, ê° í…Œì´ë¸” ê³„ì‚°ì´ ìš°ì„ ì ìœ¼ë¡œ <br>&nbsp &nbspë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

7. í—ŒíŒ…í¬ì°¨ì²˜ëŸ¼ ì¦ê²¨ì£¼ì„¸ìš”!â¤ï¸
        </div>

        <div class="checkrow">
          <input type="checkbox" id="chkToday" />
          <label for="chkToday">2ì‹œê°„ë™ì•ˆ ì´ ì°½ ë³´ì§€ì•Šê¸°</label>
        </div>
        <div class="checkrow">
          <input type="checkbox" id="chkAgree" />
          <label for="chkAgree">ìœ„ ë‚´ìš©ì„ ëª¨ë‘ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.</label>
        </div>
        <p class="note">â€» ë¶ˆì´ìµì´ ì—†ë„ë¡ ë‚´ìš©ì„ ì •ë…í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
      </div>

      <div class="modal__footer">
        <button id="btnConfirm" class="btn--confirm" type="button">í™•ì¸</button>
      </div>
    </div>
  </section>

  <script>
  const LINK_MATCH = "https://higheritaewon.github.io/Message-TEST_higherMatch/";
  const LINK_GUIDE = "https://www.instagram.com/p/DPyruvHkZuM/?igsh=bXo2N2I3eTh4ejU2";

  const SNOOZE_KEY = "hm_popup_snooze_until";
  const TWO_HOURS = 2 * 60 * 60 * 1000;

  const popup     = document.getElementById('popup');
  const chkToday  = document.getElementById('chkToday');
  const chkAgree  = document.getElementById('chkAgree');
  const btnConfirm= document.getElementById('btnConfirm');

  const btnInfo   = document.getElementById('btnInfo');
  const btnMatch  = document.getElementById('btnMatch');
  const btnGuide  = document.getElementById('btnGuide');

  // â¬‡ï¸ ì•ˆë‚´ ì „ìš© ëª¨ë“œ í”Œë˜ê·¸ & í† ê¸€
  let infoMode = false; // false=ê¸°ë³¸(ì²´í¬ í•„ìš”), true=ì•ˆë‚´ ì „ìš©(ì œëª©/ë‚´ìš©ë§Œ)
  const checkRows = document.querySelectorAll('.checkrow');
  const noteEl    = document.querySelector('.note');

  function setInfoMode(on){
    infoMode = on;
    checkRows.forEach(el => el.style.display = on ? 'none' : '');
    if (noteEl) noteEl.style.display = on ? 'none' : '';
  }

  // ìµœì´ˆ ì§„ì… ì‹œ íŒì—… í‘œì‹œ ì—¬ë¶€ (ê¸°ë³¸ ëª¨ë“œë¡œ í‘œì‹œë¨)
  (function initPopup(){
    try{
      const until = Number(localStorage.getItem(SNOOZE_KEY) || 0);
      const now = Date.now();
      if (until > now){
        popup.hidden = true;
      } else {
        setInfoMode(false); // ê¸°ë³¸ ëª¨ë“œ(ì²´í¬ í•„ìš”)
        popup.hidden = false;
      }
    }catch(e){
      setInfoMode(false);
      popup.hidden = false;
    }
  })();

  // í™•ì¸ ë²„íŠ¼ ë™ì‘: ëª¨ë“œì— ë”°ë¼ ë¶„ê¸°
  btnConfirm.addEventListener('click', () => {
    if (infoMode){
      // ì•ˆë‚´ ì „ìš©: ë°”ë¡œ ë‹«ê¸°
      popup.hidden = true;
      return;
    }
    // ê¸°ë³¸ ëª¨ë“œ: ë™ì˜ ì²´í¬ í•„ìˆ˜ + ìŠ¤ëˆ„ì¦ˆ ì²˜ë¦¬
    if (!chkAgree.checked){
      alert("â€˜ìœ„ ë‚´ìš©ì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.â€™ì— ì²´í¬í•´ ì£¼ì„¸ìš”.");
      return;
    }
    if (chkToday.checked){
      const until = Date.now() + TWO_HOURS;
      try{ localStorage.setItem(SNOOZE_KEY, String(until)); }catch(e){}
    }
    popup.hidden = true;
  });

  // ESCë¡œ ë‹«ê¸°(ê¸°ë³¸ ëª¨ë“œì—ì„œëŠ” ë™ì˜ ì²´í¬ê°€ ë˜ì–´ ìˆì–´ì•¼ ë‹«í˜)
  window.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && !popup.hidden){
      if (infoMode || chkAgree.checked){
        btnConfirm.click();
      }
    }
  });

  // ë§í¬ ì—´ê¸° ê³µí†µ
  function openOrWarn(url, label){
    if (!url || !/^https?:\/\//i.test(url)){
      alert(`${label} ë§í¬ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.`);
      return;
    }
    window.open(url, '_blank', 'noopener');
  }

  // 1) ì•ˆë‚´ì‚¬í•­: ì œëª©/ë‚´ìš©ë§Œ ë³´ì´ëŠ” ì•ˆë‚´ ì „ìš© íŒì—… ë„ìš°ê¸°
  btnInfo.addEventListener('click', () => {
    setInfoMode(true);     // ì²´í¬/ë™ì˜ UI ìˆ¨ê¹€
    popup.hidden = false;  // íŒì—… í‘œì‹œ
  });

  // 2) ë§¤ì¹˜ ë°”ë¡œê°€ê¸°
  btnMatch.addEventListener('click', () => openOrWarn(LINK_MATCH, "â€˜í•˜ì´ì–´ ë§¤ì¹˜ ë°”ë¡œê°€ê¸°â€™"));

  // 3) ì‚¬ìš©ì„¤ëª…ì„œ
  btnGuide.addEventListener('click', () => openOrWarn(LINK_GUIDE, "â€˜í•˜ì´ì–´ ë§¤ì¹˜ ì‚¬ìš©ì„¤ëª…ì„œâ€™"));
</script>
</body>
</html>





